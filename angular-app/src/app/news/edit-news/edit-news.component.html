<div class="backdrop"></div>

<dialog open>
    @if(mode == 'edit'){
      <h2>Edit News</h2>
    }

  @if(mode == 'save'){
    <h2>Save News</h2>
  }

  <form>
    <p>
      <label for="title">Title</label>
      <input type="text" id="title" name="title" [(ngModel)]="news.newsTitle"/>
    </p>

    <p>
      <label for="content">Content</label>
      <input type="text" id="content" name="content" [(ngModel)]="news.newsContent"/>
    </p>

    <p>
      <label for="user">Author</label>
      <select id="user" name="user" [(ngModel)]="selectedUserName">
        <option>Choose...</option>
        @for(user of users; track user.userId){
          <option>{{ user.username}}</option>
        }
<!--        <option *ngFor="let user of users" [value]="user.userId">{{ user.firstName }} {{ user.lastName }}</option>-->
      </select>
    </p>

    <p>
      <label for="category">Category</label>
      <select id="category" name="category" [(ngModel)]="selectedCategoryName">
        <option>Choose...</option>
        @for(category of categories; track category.categoryId){
          <option>{{category.categoryName}}</option>
        }
<!--        <option *ngFor="let category of categories" [value]="category.categoryId">{{ category.categoryName }}</option>-->
      </select>
    </p>

    <p>
      <label for="date">Date</label>
      <input type="text" id="date" name="date" [(ngModel)]="news.newsDate"/>
    </p>

    <p class="actions">
      <button (click)="onCancelCloseForm()">Cancel</button>

      @if(mode == 'edit'){
        <button (click)="onEdit()">Edit</button>
      }


      @if(mode == 'save'){
        <button (click)="onSave()">Save</button>
      }

    </p>
  </form>
</dialog>

<button type="button" (click)="testClick()">Test Button</button>
